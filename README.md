# archive and compression in linux
# أرشفة وضغط الملفات على جنو/لينكس



دليلك للتعرف على أشهر صيغ أرشفة وضغط الملفات على أنظمة جنو/لينكس مع مقارنة عملية تبين الفرق بينها.

![](https://linuxaw.com/wp-content/uploads/2021/06/archive-and-compress-files-on-linux-featured-image.png)

**المحتويات** [إخفاء](#)

[مقدمة](#مقدمة)

[ماهي الأرشفة؟](#ماهي-الأرشفة)

[ماهو الضغط؟](#ماهو-الضغط)

[صيغة الأرشفة Tar](#صيغة-الأرشفة-tar)

[صيغ الضغط](#صيغ-الضغط)

[صيغة الضغط Gzip](#صيغة-الضغط-gzip)

[صيغة الضغط Bzip2](#صيغة-الضغط-bzip2)

[صيغة الضغط Xz](#صيغة-الضغط-xz)

[مقارنة عملية بين صيغ الضغط الثلاث](#مقارنة-عملية-بين-صيغ-الضغط-الثلاث)

[الارشفة ب: zip و unzip](#-الارشفة-ب-zip-و-unzip)

[الارشفة ب: rar و unrar](#-الارشفة-ب-rar-و-unrar)

[حماية ملف rar بكلمة مرور](#-حماية-ملف-rar-بكلمة-مرور)

[أداة 7z (7zip)](#-أداة-7z-7zip)

[ تشفير وفك تشفير الملفات باستخدام (GnuPG) GPG](#%EF%B8%8F-تشفير-وفك-تشفير-الملفات-باستخدام-gnupg--gpg)

[خاتمة](#خاتمة)

## مقدمة

كثير منا لديه بعض المعلومات عن أرشفة وضغط الملفات، ومن المؤكد أنك كمستخدم عادي أو متقدم لنظام لينكس قد صادفت أو حملت أرشيفا مضغوطا على نظامك، أو أنك تريد أرشفة وضغط الملفات لجمعها في ملف واحد، أو لتوفير بعض المساحة على وسائط التخزين الخاصة بك، أو لتسريع عملية نسخها. سنتعرض في هذا المقال لأشهر الصيغ الحرة ومفتوحة المصدر لأرشفة وضغط الملفات، ونبين الفرق بينها مع طريقة إنشاء الملفات المؤرشفة والمضغوطة وطريقة فك أرشفتها وضغطها عبر سطر الأوامر. لكن قبل ذلك علينا أن نعَرِّف كلا من مصطلحي الأرشفة والضغط.

## ماهي الأرشفة؟

هي تجميع العديد من الملفات في ملف واحد بغرض عمل نسخة من هذه الملفات وتخزينها احتياطا.

## ماهو الضغط؟

هو استعمال عدة خوارزميات مختلفة لتقليل وتصغير حجم الملفات بغرض توفير مساحة تخزينية إضافية.

## صيغة الأرشفة Tar

هي المسؤولة عن أرشفة الملفات. يتمثل عملها في تجميع جميع الملفات التي يُراد أرشفتها في ملف واحد.  
**تذكر** : هذا الأمر لا يضغط الملفات وإنما يجمعها في ملف واحد فقط.

لأرشفة محتويات مجلد معين باستعمال **tar** نستعمل الأمر التالي:
```bash
tar -cvf archive.tar folder/
```
لأرشفة ملف أو عدة ملفات باستعمال **tar** نستعمل الأمر التالي:
```bash
tar -cvf archive.tar file1 file2 file3
```
الأمر c- : لإنشاء الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر f- : لاختيار اسم الأرشيف

لفك أرشفة أرشيف باستعمال **tar** نكتب الأمر التالي
```bash
tar -xvf archive.tar
```
الأمر x- : لفك أرشفة الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر f- : لتحديد الأرشيف

يمكن استخدام **tar** مع صيغ الضغط بغرض أرشفة وضغط الملفات في نفس الوقت.

## صيغ الضغط

### صيغة الضغط Gzip

إختصار لكلمة **GNU Zip** وهي آلية لضغط الملفات وتصغير حجمها. يتميز هذا النوع من الضغط بسرعته وشهرته وكثرة استعماله. ويُستعمل مع **tar** لأرشفة و ضغط الملفات.

لضغط ملف أو مجلد بصيغة **tar.gz** نستعمل الأمر التالي:

```bash
tar -cvzf archive.tar.gz file-or-folder-to-compress
```
الأمر c- : لإنشاء الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر z- : لضغط الأرشيف بواسطة **gzip**.  
الأمر f- : لاختيار اسم الأرشيف

لفك ضغط ملف **tar.gz** نستعمل الأمر التالي:
```bash
tar -xvzf archive.tar.gz
```
الأمر x- : لفك أرشفة وضغط الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر z- : لفك ضغط الأرشيف بواسطة **gzip**

### صيغة الضغط Bzip2

هي آلية أخرى لضغط الملفات وتصغير حجمها. ويتميز هذا النوع من الضغط بفاعليته وقلة استعماله بسبب بطئه. ويُستعمل مع **tar** لأرشفة و ضغط الملفات.

لضغط ملف أو مجلد بصيغة **tar.bz2** نستعمل الأمر التالي:
```bash
tar -cvjf archive.tar.bz2 file-or-folder-to-compress
```
الأمر c- : لإنشاء الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر j- : لضغط الأرشيف بواسطة **bzip2**.  
الأمر f- : لاختيار اسم الأرشيف

لفك ضغط ملف **tar.bz2** نستعمل الأمر التالي:
```bash
tar -xvjf archive.tar.bz2
```
الأمر x- : لفك أرشفة وضغط الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر j- : لفك ضغط الأرشيف بواسطة **bzip2**

### صيغة الضغط Xz

هي آلية أخرى لضغط الملفات وتقليل حجمها. يتميز هذا النوع من الضغط بفاعليته الكبيرة أكثر من النوعين السابقين وقلة استعماله بسبب بطئه الشديد. ويُستعمل مع **tar** لأرشفة و ضغط الملفات.

لضغط ملف أو مجلد بصيغة **tar.xz** ننفذ الأمر التالي:
```bash
tar -cvJf archive.tar.xz file-or-folder-to-compress
```
الأمر c- : لإنشاء أرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر J- : لضغط الأرشيف بواسطة **xz**  
الأمر f- : لاختيار اسم الأرشيف

لفك ضغط ملف **tar.xz** ننفذ الأمر التالي:
```bash
tar -xvJf archive.tar.xz
```
الأمر x- : لفك أرشفة وضغط الأرشيف  
الأمر v- : لإظهار تقدم العملية  
الأمر J- : لفك ضغط الأرشيف بواسطة **xz**

إن لم ترد استعمال سطر الأوامر لتنفيذ العمليات السابقة فهناك العديد من البرامج الرسومية على أنظمة **جنو/لينكس.** والتي تسمح لك بتنفيذها مثل **Ark** و **File** **Roller** و **Engrampa** و **Xarchiver**.

## مقارنة عملية بين صيغ الضغط الثلاث

أجريت هذه المقارنة عبر ضغط مجلد حجمه 228.2 ميجابايت، يحتوي على عدد كبير من الملفات صغيرة الحجم (156516 ملف).

مواصفات الجهاز الذي أجريت عليه المقارنة كالتالي:

-   معالج AMD A8 4500M 4×1.9 GHz
-   ذاكرة عشوائية بحجم 8 جيجابايت
-   توزيعة MX Linux 19
-   نواة لينكس 4.19
-   حزم gzip 1.9, bzip2 1.0.6, xz-utils 5.2.4

استعملت في هذه المقارنة برنامجين هما File-roller 3.30.1 و Libreoffice Calc 6.3.4.2 وتشمل المقارنة المعطيات التالية:

-   حجم الملف المضغوط؛
-   مدة الضغط؛
-   سرعة الضغط؛
-   مدة فك الضغط؛
-   سرعة فك الضغط؛
-   نسبة الضغط.

توجد معادلتان لحساب نسبة الضغط:

-   نسبة الضغط (Compression Ratio) رقم 1 هي نتيجة المعادلة: الحجم غير المضغوط / الحجم المضغوط. هذه المعادلة تُستعمل في مدراء الأرشيف مثل **File** **Roller** و **Engrampa** و **Ark.**
-   نسبة الضغط (Compression Ratio) رقم 2 هي نتيجة المعادلة: (الحجم المضغوط / الحجم غير المضغوط) × 100. هذه المعادلة تُستعمل في مدراء الأرشيف مثل **7zip** و **Winrar**

وقد أخذت كلتا القيمتين بعين الاعتبار أثناء المقارنة.

الجدول والمنحنيات الآتية توضح المقارنة بالأرقام:

ابحث:

| الصيغة |حجم الملفات قبل الضغط (ميجا) | حجم الملف المضغوط (ميجا)|مدة الضغط (ثانية) | سرعة الضغط (ميجا/الثانية) | مدة فك الضغط (ثانية) | سرعة فك الضغط (ميجا/الثانية) | نسبة الضغط 1 (الحجم غير المضغوط/ الحجم المضغوط)|نسبة الضغط 2 (الحجم المضغوط/ الحجم غير المضغوط) × 100|
|---|---|---|---|---|---|---|---|---|
|tar.gz | 228.2 | 108.3 | 48 | 4.75 | 45 | 2.4 | 2.09 | 47 |
|tar.bz2 | 228.2 | 95.4 | 86 | 2.65 | 83 | 1.14 | 2.37 | 42 |
| tar.xz | 228.2 | 80 | 249 | 0.91 | 58 | 1.37 | 2.83 | 35|

![حجم الملف المضغوط](https://linuxaw.com/wp-content/uploads/2021/06/compression-size.png)

![مدة الضغط](https://linuxaw.com/wp-content/uploads/2021/06/compression-duration.png)

![سرعة الضغط](https://linuxaw.com/wp-content/uploads/2021/06/compression-speed.png)

![مدة فك الضغط](https://linuxaw.com/wp-content/uploads/2021/06/extraction-duration.png)

![سرعة فك الضغط](https://linuxaw.com/wp-content/uploads/2021/06/extraction-speed.png)

![نسبة الضغط 1](https://linuxaw.com/wp-content/uploads/2021/06/compression-ratio-1.png)

![نسبة الضغط 2](https://linuxaw.com/wp-content/uploads/2021/06/compression-ratio-2.png)

## 📌 الارشفة ب: `zip` و `unzip`
`zip` هي أداة شهيرة تدعم الأرشفة والضغط في نفس الوقت، وتُستخدم على جميع أنظمة التشغيل تقريبًا.


### 📦 ضغط مجلد أو ملف:
```bash
zip -r archive.zip folder/
```
- `-r`: لضغط المجلدات بشكل تكراري

### 📥 فك الضغط:
```bash
unzip archive.zip
```

### 🔐 حماية ملف zip بكلمة مرور:
```bash
zip -r -e archive.zip folder/
```
- `-e`: تفعيل خاصية الحماية بكلمة مرور (سيُطلب منك إدخالها)

---
## 📌 الارشفة ب: `rar` و `unrar`

صيغة RAR معروفة بقوة الضغط العالية، لكن أدواتها ليست مفتوحة المصدر، وتحتاج لتثبيت يدوي غالبًا.

### 📦 ضغط ملف أو مجلد:
```bash
rar a archive.rar folder/
```
- `a`: لإنشاء أرشيف وإضافة الملفات إليه

### 📥 فك الضغط:
```bash
unrar x archive.rar
```
- `x`: فك الضغط مع الحفاظ على هيكل المجلدات

> لتثبيت rar/unrar:
```bash
sudo apt install rar unrar
```

### 🔐 حماية ملف rar بكلمة مرور:
```bash
rar a -p archive.rar folder/
```
- `-p`: لحماية الأرشيف بكلمة مرور (سيُطلب منك إدخالها)

---
### 📦 أداة 7z (7zip)

**7z** هي أداة ضغط قوية تدعم تنسيقات متعددة وتوفر نسبة ضغط عالية جدًا، وتُستخدم عادة بصيغة `.7z`.

🔹 **التركيب:**
```bash
sudo apt install p7zip-full
```

🔹 **ضغط مجلد بصيغة .7z:**
```bash
7z a archive.7z myfolder/
```

🔹 **فك الضغط:**
```bash
7z x archive.7z
```

🔹 **ضغط مع كلمة مرور:**
```bash
7z a -pMyPassword archive.7z myfolder/
```

---

## 🛡️ تشفير وفك تشفير الملفات باستخدام (GnuPG)  GPG


**PGP** (Pretty Good Privacy) يُستخدم لتأمين الملفات عبر التشفير الرقمي باستخدام مفاتيح عامة وخاصة. أشهر تطبيق له على لينكس هو `gpg`.🔹 

🔹 **التركيب (عادةً مثبت مسبقًا):**
```bash
sudo apt install gnupg2
```

### ✅ التشفير التفاعلي (بكلمة مرور):
```bash
gpg -c fichier.txt
```

ينتج ملف مشفر باسم `fichier.txt.gpg`، ويُحتفظ بالملف الأصلي.

### ✅ فك التشفير التفاعلي (يعرض المحتوى في الطرفية):
```bash
gpg -d fichier.txt.gpg
```

### ✅ فك التشفير وكتابة المحتوى إلى ملف جديد:
```bash
gpg -o test.txt -d fichier.txt.gpg
```

> ملاحظة: قد لا يُطلب منك كلمة المرور إذا كان `gpg-agent` يعمل واحتفظ بها مؤقتًا.

---

### 🤖 التشفير وفك التشفير عبر سكربت (batch mode)

#### ✅ التشفير بكلمة مرور (مثال: `toto123`):
```bash
gpg --batch --passphrase toto123 -c test.txt
```

#### ✅ فك التشفير بكلمة مرور والكتابة إلى ملف جديد:
```bash
gpg --batch --passphrase toto123 -o test.txt -d test.txt.gpg
```
--- 
🔹 **إنشاء زوج مفاتيح:**
```bash
gpg --full-generate-key
```

🔹 **تشفير ملف باستخدام المفتاح العام:**
```bash
gpg -e -r "User Name" myfile.txt
```

🔹 **فك التشفير (باستخدام المفتاح الخاص):**
```bash
gpg -d myfile.txt.gpg > myfile.txt
```

🔹 **توقيع ملف رقميًا:**
```bash
gpg --sign myfile.txt
```

🔹 **التحقق من التوقيع:**
```bash
gpg --verify myfile.txt.gpg
```

---

> ✅ **ملاحظة:** PGP لا يقوم بالضغط بل بالتشفير، ويمكن دمجه مع أدوات الضغط مثل tar أو zip للحصول على أرشفة + تشفير.
## خاتمة

بعد أن تعرفت أيها القارئ على أشهر طريقة لأرشفة الملفات و أشهر ثلاث طرق لضغطها على أنظمة **جنو/لينكس** وتعرفت كذلك على طريقة استعمال أوامر الطرفية لفعل ذلك، فقد أصبحت تملك فكرة كافية تجعلك تتخذ القرار الصحيح والمناسب في حال أردت أرشفة وضغط الملفات.


